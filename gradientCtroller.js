var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(n){var a=0;return function(){return a<n.length?{done:!1,value:n[a++]}:{done:!0}}};$jscomp.arrayIterator=function(n){return{next:$jscomp.arrayIteratorImpl(n)}};$jscomp.makeIterator=function(n){var a="undefined"!=typeof Symbol&&Symbol.iterator&&n[Symbol.iterator];return a?a.call(n):$jscomp.arrayIterator(n)};$jscomp.arrayFromIterator=function(n){for(var a,b=[];!(a=n.next()).done;)b.push(a.value);return b};$jscomp.arrayFromIterable=function(n){return n instanceof Array?n:$jscomp.arrayFromIterator($jscomp.makeIterator(n))};var _dw=function(n){var a=this;this._dz="body";this._ea={};this.mainDroppers=[];this.addedDroppers=[];this._eb=null;this.dropper={style:{width:null,height:null}};this._ec={_ed:$('<div class="pan"></div>'),_ee:{width:230,height:200,position:function(){return{x:a._ec._ed[0].getBoundingClientRect().x,y:a._ec._ed[0].getBoundingClientRect().y}}},_ef:{_eg:$('<svg class="displayAssistant" style="overflow:visible;pointer-events:none;position:absolute;left:0;top:0"></svg>'),colorPicker:$('<input class="colorPicker" type="color"/>'),dropsWrapper:$('<div class="dropsWrapper"></div>'),_eh:[]}};this.opacityBar={_ed:$('<div class="opacityBar"><div></div></div>'),width:function(){return a.opacityBar._ed.width()}};this._ei={_ej:$('<div class="graButtonsBar"><div class="copyGra"><i class="fa fa-copy"></i>Copy</div><div class="refreshGra"><i class="fa fa-refresh"></i>Reset</div><div class="randomGra"><i class="fa fa-ioxhost"></i>Random</div><div class="toggleType"><i class="fa fa-random"></i>Type</div></div>'),_ek:$('<div class="recommendGradient"></div>')};this._el={_em:20,_en:50,_eo:15};this._ep={_eq:[],gradientType:"linear",_er:function(){function b(w){return Math.round(10*w)/10}var c=a._ew._ex._ev,e=a.mainDroppers,k=a.addedDroppers,p,f=[],h=a._ew._ez._fa(),d=a._ec._ee.width,g=a._ec._ee.height,l=a._ew._ez._fb(),q=a._ep.gradientType,u=[e[0].x/d,1-e[0].y/g];if("linear"==q){for(var m=0;2>m;m++){var t={},r=void 0;r=e[m].x;var v=e[m].y;0<h&&90>h?(r=d*(r+l*v)/(d+l*g),t._eu=r/d):90<=h&&180>h?(r=(r-l*g+l*v)/(1-l*g/d),t._eu=r/d):-90<=h&&0>h?(r=(r-l*g+l*v)/(1-l*g/d),t._eu=(d-r)/d):-180<h&&-90>h?(r=d*(r+l*v)/(d+l*g),t._eu=(d-r)/d):0==h?t._eu=v/g:180==h&&(t._eu=(g-v)/g);t._fg=c(e[m].color,e[m].alpha)+" "+b(100*t._eu)+"%";f.push(t)}for(m=0;m<k.length;m++)m+2!=a._fh._fi&&(e={_eu:(f[1]._eu-f[0]._eu)*k[m].relativePos+f[0]._eu},e._fg=c(k[m].color,k[m].alpha)+" "+b(100*e._eu)+"%",f.push(e))}else if("radial"==q)for(m=Math.max(e[0].x,d-e[0].x,e[0].y,g-e[0].y),d=a._ew._ex._fl([e[0].x,e[0].y],[e[1].x,e[1].y])/m,f.push({_fg:c(e[0].color,e[0].alpha)+" 0%",_eu:0}),f.push({_fg:c(e[1].color,e[1].alpha)+" "+b(100*d)+"%",_eu:d}),m=0;m<k.length;m++)m+2!=a._fh._fi&&(e={},e._eu=k[m].relativePos*d,e._fg=c(k[m].color,k[m].alpha)+" "+b(100*e._eu)+"%",f.push(e));f=new (Function.prototype.bind.apply(Array,[null,f[0]].concat($jscomp.arrayFromIterable(f.slice(2,f.length).sort(function(w,x){return w._eu-x._eu})),[f[1]])));for(m in f)f[m]=f[m]._fg;"linear"==q?p="linear-gradient("+b(h)+"deg,"+f.join(",")+")":"radial"==q&&(p="radial-gradient(circle farthest-side at "+b(100*u[0])+"% "+b(100*u[1])+"%,"+f.join(",")+")");return p}};this._fh={_fm:{_fn:"#C2FEFF",alpha:1},_fo:[0,0],_fp:[99,99],_fq:!1,_fr:null,_fs:!1,_ft:!1,_fu:!1,_fv:!0,_fi:null,_fw:!1,_fx:0,_fy:null};this._ew={_ex:{_fz:function(b,c){b-=a._ec._ee.position().x;c=a._ec._ee.height-c+a._ec._ee.position().y;return[b,c]},_fl:function(b,c){return Math.sqrt(Math.pow(b[0]-c[0],2)+Math.pow(b[1]-c[1],2))},_ge:function(b,c,e){b[0]>c[1]?b[0]=c[1]:b[0]<c[0]&&(b[0]=c[0]);b[1]>e[1]?b[1]=e[1]:b[1]<e[0]&&(b[1]=e[0]);return b},_ev:function(b,c){"number"!=typeof c&&(c=1);return"rgba("+parseInt("0x"+b.slice(1,3))+","+parseInt("0x"+b.slice(3,5))+","+parseInt("0x"+b.slice(5,7))+","+c+")"},_gk:function(b){var c=b.split(",");b=parseInt(c[0].split("(")[1]);var e=parseInt(c[1]);c=parseInt(c[2].split(")")[0]);return"#"+(16777216+(b<<16)+(e<<8)+c).toString(16).slice(1)},_gm:function(b){var c=document.createElement("div");c.style.backgroundColor=b;document.body.appendChild(c);b=window.getComputedStyle(c).backgroundColor;document.body.removeChild(c);return b},_gn:function(b){var c=$('<input style="height:0!important" type="text"/>');c.val(b);$("body").append(c);c.select();document.execCommand("copy");c.remove()}},_ez:{_fa:function(b,c){!b&&(b=[a.mainDroppers[0].x,a.mainDroppers[0].y]);!c&&(c=[a.mainDroppers[1].x,a.mainDroppers[1].y]);return 180/Math.PI*Math.atan2(c[0]-b[0],c[1]-b[1])},_fb:function(b,c){!b&&(b=[a.mainDroppers[0].x,a.mainDroppers[0].y]);!c&&(c=[a.mainDroppers[1].x,a.mainDroppers[1].y]);return(c[1]-b[1])/(c[0]-b[0])},_gr:function(b){return new Promise(function(c,e){$.get(b,function(k){c(k)})})},_gt:function(b){function c(){var r=a._ew._ex._gm("hsl("+Math.round(Math.random()*p+u)+","+Math.round(Math.random()*d+m)+"%,"+Math.round(Math.random()*q+t)+"%)");return a._ew._ex._gk(r)}9!=b.length&&(b=[0,360,360,0,100,100,0,100,100]);b=$jscomp.makeIterator(b);var e=b.next().value,k=b.next().value,p=b.next().value,f=b.next().value,h=b.next().value,d=b.next().value,g=b.next().value,l=b.next().value,q=b.next().value,u=Math.random()*(k-p-e)+e,m=Math.random()*(h-d-f)+f,t=Math.random()*(l-q-g)+g;return{mainDroppers:[{x:0,y:0,color:c(),alpha:1},{x:a._ec._ee.width,y:a._ec._ee.height,color:c(),alpha:1}],addedDroppers:[],gradientType:"linear"}}},_hm:function(){a._ew._hn(a._ea)},_hn:function(b){function c(k){k=JSON.stringify(k);return JSON.parse(k)}var e;b&&(e=c(b));b=c(a._ea);e?(a.mainDroppers=e.mainDroppers,a.addedDroppers=e.addedDroppers,a._ep.gradientType=e.gradientType):(a.mainDroppers=b.mainDroppers,a.addedDroppers=b.addedDroppers,a._ep.gradientType=b.gradientType);a._ew._hr()},_hs:function(){function b(d){var g=a._ew._ez._fa,l=a._ew._ex._fl,q=[a.mainDroppers[0].x,a.mainDroppers[0].y],u=[a.mainDroppers[1].x,a.mainDroppers[1].y];g=g(q,d)-g(q,u);d=l(d,q)*Math.cos(g/180*Math.PI)/l(u,q);1<d?d=1:0>d&&(d=0);return d}function c(d){var g=a._ec._ee.width,l=a._ec._ee.height;g=[[0,l],[g/2,l],[g,l],[0,l/2],[g/2,l/2],[g,l/2],[0,0],[g/2,0],[g,0]];l=null;for(i=0;i<g.length;i++)if(a._ew._ex._fl(d,g[i])<a._el._eo){l=g[i];break}return l}function e(){var d=a._fh._fp,g=a._fh._fo;d=a._ew._ex._ge(d,[0,a._ec._ee.width],[0,a._ec._ee.height]);c(d)&&(d=c(d));a.mainDroppers[0].x=g[0];a.mainDroppers[0].y=g[1];a.mainDroppers[1].x=d[0];a.mainDroppers[1].y=d[1]}function k(){var d=a._fh._fx;a._ec._ef.colorPicker.click();1<d?a.addedDroppers[d-2].color=a._fh._fm._fn:a.mainDroppers[d].color=a._fh._fm._fn}function p(){var d=a._fh._fx,g=a._fh._fp[0]/a.opacityBar.width();1<g?g=1:0>g&&(g=0);1<d?a.addedDroppers[d-2].alpha=g:a.mainDroppers[d].alpha=g}function f(){var d=a._fh._fp,g=a._ec._ee.width,l=a._ec._ee.height,q=a._fh._fx;2>q?(d=a._ew._ex._ge(d,[0,g],[0,l]),c(d)&&(d=c(d)),a.mainDroppers[q].x=d[0],a.mainDroppers[q].y=d[1]):(a._ew._ex._fl(a._fh._fp,[a._ep._eq[q].x,a._ep._eq[q].y])>a._el._en?a._fh._fi=q:a._fh._fi=null,a.addedDroppers[q-2].relativePos=b(d))}function h(){var d=a._fh._fi;d&&(a.addedDroppers.splice(d-2,1),a._fh._fx=d-1,a._fh._fi=null)}switch(a._fh._fy){case "drawLine":e();break;case "colorChange":k();break;case "opacityChange":p();break;case "addColorNode":a.addedDroppers.push({color:a._fh._fm._fn,alpha:a._fh._fm.alpha,relativePos:b(a._fh._fo)});a._fh._fx=1+a.addedDroppers.length;break;case "moveDropperorDeling":f();break;case "delConfirm":h()}},_ie:function(){var b=a._fh._fq,c=a._fh._fr,e=a._fh._fs,k=a._fh._fu,p=a._fh._fv,f=null;switch(!0){case b&&"dropsWrapper"==c&&k:f="drawLine";break;case b&&"dropsWrapper"==c&&!k&&p:f="addColorNode";break;case b&&"drop"==c&&e&&!p:f="moveDropperorDeling";break;case b&&"drop"==c&&e&&p:f="delConfirm";break;case b&&"drop"==c&&!e&&p:f="colorChange";break;case b&&"opacityBar"==c&&(e||p):f="opacityChange"}a._fh._fy=f},_ij:function(){for(var b=[],c=a.mainDroppers[0].x,e=a.mainDroppers[0].y,k=a.mainDroppers[1].x,p=a.mainDroppers[1].y,f=0;f<a.mainDroppers.length;f++){var h={};h.left=a.mainDroppers[f].x;h.top=a._ec._ee.height-a.mainDroppers[f].y;h.color=a.mainDroppers[f].color;h.alpha="number"===typeof a.mainDroppers[f].alpha?a.mainDroppers[f].alpha:1;b.push(h)}for(f=0;f<a.addedDroppers.length;f++){h={};var d=a.addedDroppers[f].relativePos;h.left=(k-c)*d+c;h.top=a._ec._ee.height-((p-e)*d+e);h.x=h.left;h.y=(p-e)*d+e;h.color=a.addedDroppers[f].color;h.alpha="number"===typeof a.addedDroppers[f].alpha?a.addedDroppers[f].alpha:1;b.push(h)}a._ep._eq=b},_hr:function(){this._ij();this._im();var b=localStorage.getItem("prevGraConfig"),c=a.userName;b=b?JSON.parse(b):{};b[c]={mainDroppers:a.mainDroppers,addedDroppers:a.addedDroppers,gradientType:a._ep.gradientType,gradientString:a._ep._er()};c=JSON.stringify(b);localStorage.setItem("prevGraConfig",c)},_ip:function(){a._ew._ex._gn(a._ep._er())},_iq:function(){a._ew._hn(a._ew._ez._gt([154,430,360,80,100,5,40,100,10]))},_ir:function(){a._ep.gradientType="linear"==a._ep.gradientType?"radial":"linear";a._ew._hs();a._ew._hr()},_is:function(){a._ew._ez._gr(a._eb).then(function(b){b=$(b.$appendix.htmlForPreview).text();var c=eval("(["+b+"])");console.log(c);for(i in c)b=$('<div><div class="HTMLcontent"></div></div>'),b.css("background",c[i].gradientString).click(function(e){a._ew._hn(c[$(e.target).index()]);a._ec._ed.parent()[0].scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}),c[i].HTMLcontent&&b.children().append(c[i].HTMLcontent),a._ei._ek.append(b)})},_iu:function(b){var c=a._ec._ef._eg,e=a._ec._ef.dropsWrapper,k=a._ec._ef.colorPicker,p=a.opacityBar._ed,f=a._ei._ej,h=a._ei._ek;c.attr({width:a._ec._ee.width,height:a._ec._ee.height});p.mousedown(function(d){a._fh._fr="opacityBar"});k.bind("input",function(d){a._fh._fm._fn=$(d.target).val();a._fh._fy="colorChange";a._ew._hs();a._ew._hr()});f.find(".refreshGra").click(a._ew._hm);f.find(".copyGra").click(a._ew._ip);f.find(".randomGra").click(a._ew._iq);f.find(".toggleType").click(a._ew._ir);a._ew._is();a._ec._ed.width(a._ec._ee.width).height(a._ec._ee.height);e.width(a._ec._ee.width).height(a._ec._ee.height).mousedown(function(d){a._fh._fr="dropsWrapper"}).mouseover(function(d){c.stop().fadeIn(200)}).mouseout(function(d){c.stop().fadeOut(200)});e=a._ec._ed.append(c,e).wrap('<div class="gradientController"></div>').parent();e.append(a._ec._ed,p,k,f,h);$(b).append(e)},_iv:function(){$(document).mousedown(function(b){a._fh._fv=!1;a._fh._fq=!0;a._fh._fo=a._ew._ex._fz(b.clientX,b.clientY);a._fh._fp=a._ew._ex._fz(b.clientX,b.clientY)}).mousemove(function(b){a._fh._fq&&(a._fh._fs=!0,a._fh._fp=a._ew._ex._fz(b.clientX,b.clientY),a._ew._ex._fl(a._fh._fp,a._fh._fo)<a._el._em?a._fh._ft=!0:(a._fh._ft=!1,a._fh._fu=!0),a._ew._ie(),a._ew._hs(),a._ew._hr())}).mouseup(function(b){a._fh._fv=!0;a._ew._ie();a._ew._hs();a._ew._hr();a._fh._fr=null;a._fh._fs=!1;a._fh._ft=!1;a._fh._fv=!1;a._fh._fq=!1;a._fh._fu=!1;a._fh._fi=null}).keydown(function(b){b.shiftKey&&(a._fh._fw=!0)}).keyup(function(b){b.shiftKey&&(a._fh._fw=!1)})},_im:function(){var b=a._ep._eq;a._ec._ef._eg.html('<line class="line1" x1="'+b[0].left+'" y1="'+b[0].top+'" x2="'+b[1].left+'" y2="'+b[1].top+'"></line><line class="line2" x1="'+b[0].left+'" y1="'+b[0].top+'" x2="'+b[1].left+'" y2="'+b[1].top+'"></line>');a._fh._fx>=b.length&&(a._fh._fx=b.length-1);a.opacityBar._ed.css("background-color",b[a._fh._fx].color);a.opacityBar._ed.children().css("left",100*b[a._fh._fx].alpha+"%");if(a._ec._ef._eh.length==b.length)for(var c=0;c<b.length;c++)a._ec._ef._eh.eq(c).css({top:b[c].top,left:b[c].left,background:b[c].color});else{a._ec._ef.dropsWrapper.html("");a._ec._ef._eh=$(null);for(c=0;c<b.length;c++){var e=$('<div class="dropper"></div>');e.css({top:b[c].top,left:b[c].left,background:b[c].color});e.mousedown(function(k){b=a._ep._eq;a._fh._fv=!1;a._fh._fq=!0;a._fh._fr="drop";a._fh._fx=$(k.target).index();a._fh._fm={_fn:b[a._fh._fx].color,alpha:b[a._fh._fx].alpha};a._ec._ef.colorPicker.val(a._fh._fm._fn);k.stopPropagation()});a._ec._ef._eh=a._ec._ef._eh.add(e)}a._ec._ef.dropsWrapper.append(a._ec._ef._eh)}a._fh._fm={_fn:b[a._fh._fx].color,alpha:b[a._fh._fx].alpha};a._ec._ef._eh.removeClass("selectedDropper hiddenDropper").eq(a._fh._fx).addClass("selectedDropper");a._fh._fi&&a._ec._ef._eh.eq(a._fh._fi).addClass("hiddenDropper");a._ec._ed.css("backgroundImage",a._ep._er())}};this.userName="graEditorV5";this._iy=function(){n._iz&&(a._dz=n._iz);n._ja&&(a._ec._ee.width=n._ja[0],a._ec._ee.height=n._ja[1]);n._eb&&(a._eb=n._eb);n.userName&&(a.userName=n.userName);a._ea=n._ea||{mainDroppers:[{x:.15*a._ec._ee.width,y:.15*a._ec._ee.height,color:"#FFE0E0",alpha:.8},{x:.85*a._ec._ee.width,y:.85*a._ec._ee.height,color:"#FFFDC7",alpha:.8}],addedDroppers:[{color:"#C2FEFF",relativePos:.5,alpha:.4}],gradientType:"linear"};a._ew._iu(a._dz);a._ew._iv();var b=localStorage.getItem("prevGraConfig");if(b&&(b=JSON.parse(b),b[a.userName])){var c=b[a.userName];c.mainDroppers[0].x=a._ew._ex._ge([c.mainDroppers[0].x,c.mainDroppers[0].y],[0,a._ec._ee.width],[0,a._ec._ee.height])[0];c.mainDroppers[0].y=a._ew._ex._ge([c.mainDroppers[0].x,c.mainDroppers[0].y],[0,a._ec._ee.width],[0,a._ec._ee.height])[1];c.mainDroppers[1].x=a._ew._ex._ge([c.mainDroppers[1].x,c.mainDroppers[1].y],[0,a._ec._ee.width],[0,a._ec._ee.height])[0];c.mainDroppers[1].y=a._ew._ex._ge([c.mainDroppers[1].x,c.mainDroppers[1].y],[0,a._ec._ee.width],[0,a._ec._ee.height])[1]}a._ew._hn(c)}};
